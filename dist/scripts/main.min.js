"use strict";$(document).ready((function(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.append(e);var o=e.offsetWidth-e.clientWidth;e.remove();var t=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$("body"),s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"default-clickable-bg";a.append('<div class="clickable-bg" id='.concat(r,"></div>")),s&&$("body").css({"padding-right":o,"overflow-y":"hidden"}),e&&$(".clickable-bg").addClass("clickable-bg--dark").fadeOut(1).fadeIn(400),$(".clickable-bg").on("click",(function(){if($(this).remove(),t[0]===$(".mobile-menu")[0]){var e=$(".mobile-menu-toggle");e.removeClass("opened"),n(e)}t&&(t.removeClass("opened"),s&&$("body").css({"padding-right":0,"overflow-y":"auto"}))}))};$(document).on("click",".js-open-modal",(function(e){e.preventDefault(),function(e){$(".modal").removeClass("opened");var o=$(e);o.addClass("opened").fadeOut(1).fadeIn(400),t(!0,o,o)}($(e.target).attr("data-modal"))})),$(document).on("click",".js-close-modal",(function(e){var o,t,n=$(e.target);o="#"+n.parents(".modal")[0].id,(t=$(o)).removeClass("opened"),$("body").css({"padding-right":0,"overflow-y":"auto"}),t.find(".clickable-bg").remove()}));var n=function(e){e.hasClass("opened")?e.find("use").attr("xlink:href","img/svg/sprite.svg#close-big"):e.find("use").attr("xlink:href","img/svg/sprite.svg#menu")};function a(){var e;e=[],$.getJSON("data/map.json",(function(o){o.forEach((function(o){var t='<div class="custom-balloon">\n                                <div class="custom-balloon__bg"></div>\n                                <div class="custom-balloon__text"><b>'.concat(o.name,'</b></div>\n                                <div class="custom-balloon__text">').concat(o.address,'</div>\n                                <div class="custom-balloon__text">Режим работы: ').concat(o.worktime,"</div>\n                         </div>"),n=new ymaps.Placemark(o.coords,{balloonContent:t},{hideIconOnBalloonOpen:!1,balloonOffset:[27,-44],iconLayout:"default#image",iconImageHref:"img/marker.png",iconImageSize:[80,80]});e.push(n)}));var t=new ymaps.Map("map-container",{center:o[0].coords,zoom:15,controls:["zoomControl"]});e.forEach((function(e){t.geoObjects.add(e)})),t.behaviors.disable("scrollZoom")}))}$(document).on("click",".js-open-mobile-menu",(function(e){var a=$(e.target),s=$(".mobile-menu");$(".header__mobile-bottom").toggleClass("opened"),a.toggleClass("opened"),n(a),a.hasClass("opened")?t(!0,s):($(".clickable-bg").remove(),$("body").css({"padding-right":o,"overflow-y":"auto"})),s.toggleClass("opened")})),$(document).on("click",".js-filter-checkbox",(function(e){e.preventDefault();var o=$(e.target),t=o.find(".filters-checkbox").prop("checked");o.toggleClass("checked").find(".filters-checkbox-label").toggleClass("checked"),o.find(".filters-checkbox").prop("checked",!t);var n=o.parents("form").find(".js-clear-filters");if(n.hasClass("visible")){var a=!0;o.parents("form").find("input.filters-checkbox").each((function(){$(this).prop("checked")&&(a=!1)})),a&&n.removeClass("visible")}else n.addClass("visible")})),$(document).on("click",".js-clear-filters",(function(e){e.preventDefault();var o=$(e.target);o.parents("form").find(".js-filter-checkbox").removeClass("checked"),o.parents("form").find(".filters-checkbox-label").removeClass("checked"),o.parents("form").find(".filters-checkbox").prop("checked",!1),o.removeClass("visible")})),$(document).on("click",".js-tabs-control",(function(e){var o=$(e.target);$(".js-tabs-control").removeClass("active"),o.addClass("active"),o.parents(".js-tabs").find(".js-tab").removeClass("active"),o.parents(".js-tabs").find(o.attr("data-tab")).addClass("active")})),$(document).on("click",".js-open-popup",(function(e){var o=$(e.target);$("#popup-bg").remove(),$(".js-open-popup").removeClass("opened");var n=o.parent().find(".js-popup");n.toggleClass("opened"),t(!1,n,$("body"),!1,"popup-bg")})),$(document).on("click",".js-custom-select .custom-select-option",(function(e){$(e.target);var o=$(this).text(),t=$(this).parents(".custom-select-options"),n=$(this).parents(".js-custom-select");n.find(".custom-select__value").text(o),setTimeout((function(){$("#popup-bg").remove()}),50),t.removeClass("opened"),n.find(".custom-select__value").removeClass("default"),n.find("option").each((function(){$(this).text()===o&&n.find("select").val(o).change()}))})),$(document).on("click",".js-toggle",(function(e){var o=$(e.target);o.parent().find(".js-toggle").removeClass("active"),o.addClass("active")})),$(document).on("click",".js-checkbox",(function(e){var o=$(e.target).parents(".js-checkbox");if("a"!==e.target.tagName.toLowerCase()){e.preventDefault();var t=$(this).find(".custom-checkbox").prop("checked");o.toggleClass("checked").find(".custom-cb-badge").toggleClass("checked"),o.find(".custom-checkbox").prop("checked",!t)}})),document.querySelectorAll("input[type='tel']").forEach((function(e){IMask(e,{mask:[{mask:"+{7}(#00)000-00-00",definitions:{"#":/[12345690]/}},{mask:"{#}(000)000-00-00",definitions:{"#":/[8]/}},{mask:"{+#}(000)000-00-00",definitions:{"#":/[+7]/}}]})})),$(".js-program-slider").each((function(){$(this).slick({centerMode:!0,centerPadding:"0",prevArrow:$(this).parent(".tour-program__slider-wrapper").find(".arrow--prev"),nextArrow:$(this).parent(".tour-program__slider-wrapper").find(".arrow--next")})})),$(".js-testimonials-slider").each((function(){$(this).slick({slidesToShow:2,slidesToScroll:1,prevArrow:$(this).parent(".tour-program__slider-wrapper").find(".arrow--prev"),nextArrow:$(this).parent(".tour-program__slider-wrapper").find(".arrow--next"),responsive:[{breakpoint:600,settings:{slidesToShow:1}}]})}));var s=!1,r=function(){var e,o,t;s||(s=!0,e="https://api-maps.yandex.ru/2.1/?apikey=04709a29-6f21-442a-9cb5-272b39900456&lang=ru_RU",o=function(){ymaps.ready(a)},(t=document.createElement("script")).readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,o())}:t.onload=function(){o()},t.src=e,document.getElementsByTagName("head")[0].appendChild(t))};$("#map-container").length>0&&function(e,o,t){var n=0,a=e.length;e.each((function(){(n=t($(this),n))>=a&&$(document).off("scroll.".concat(o))})),$(document).on("scroll.".concat(o),(function(){e.each((function(){(n=t($(this),n))>=a&&$(document).off("scroll.".concat(o))}))}))}($("#map-container"),"scroll.map-container",(function(e,o){return e.visible(!0)&&!e.hasClass("visible")&&(e.addClass("visible"),r(),o++),o})),$(document).on("click",".js-close",(function(e){$(e.target).parents(".js-closable").slideUp()}));var c=function(e,o,t){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(screen.width<t)if(a)for(var s=0;s<$(e).length;s++)$(o).eq(s).after($(e).eq(1===$(o).length?0:s));else if(n)for(var r=0;r<$(e).length;r++)$(e).eq(r).appendTo($(o).eq(1===$(o).length?0:r));else for(var c=0;c<$(e).length;c++)$(e).eq(c).prependTo($(o).eq(1===$(o).length?0:c))};c(".header .nav-menu",".mobile-menu",991),c(".header__advantages",".mobile-menu",1199),c(".header .small-nav-menu",".mobile-menu",991),c(".header .small-nav-menu",".mobile-menu",991),c(".license__image",".license__box",1199);var i=null,l=null;$(document).on("click",".js-read-more-toggle",(function(e){var o=$(e.target),t=o.prev(".js-read-more-wrapper").find($(".js-read-more-container")).height();o.hasClass("opened")?(o.prev(".js-read-more-wrapper").animate({height:i},300),o.removeClass("opened"),o.find(".read-more__toggle-text").text(l)):(i=o.prev(".js-read-more-wrapper").height(),l=o.find(".read-more__toggle-text").text(),o.prev(".js-read-more-wrapper").animate({height:t},300),o.addClass("opened"),o.find(".read-more__toggle-text").text("Свернуть"))})),$(document).on("click",".js-accordion",(function(e){var o=$(e.target),t=o.siblings(".js-accordion-content").find(".tour-program__slider-wrapper"),n=o.siblings(".js-accordion-content").find(".js-program-slider");o.hasClass("opened")?(o.removeClass("opened"),o.parent().addClass("opened"),o.siblings(".js-accordion-content").slideUp()):(o.addClass("opened"),o.parent().addClass("opened"),o.siblings(".js-accordion-content").slideDown(),n.slick("unslick").slick({centerMode:!0,centerPadding:"0",prevArrow:t.find(".arrow--prev"),nextArrow:t.find(".arrow--next")}))})),$("#tp-date").datepicker({range:!0,multipleDatesSeparator:" - "});$(document).on("click",".js-scroll-to",(function(e){var o=$(e.target).attr("data-scroll");!function(e){$([document.documentElement,document.body]).animate({scrollTop:e.offset().top},1e3)}($(o))})),$(document).on("click",".js-success-btn",(function(e){var o=$(e.target);o.hasClass("successful")||(o.html('<div class="common-btn__icon"><svg class="icon"><use xlink:href="img/svg/sprite.svg#check"></use> </svg></div>Спасибо! Отзыв отправлен на модерацию'),o.addClass("successful"))}));$(document).on("click",".js-close-cookie",(function(){$(".cookies-disclaimer").removeClass("show")}))}));
//# sourceMappingURL=main.min.js.map
