{"version":3,"sources":["main.js"],"names":["$","document","ready","div","createElement","style","overflowY","width","height","body","append","scrollWidth","offsetWidth","clientWidth","remove","renderClickableBG","isDark","elementToClose","renderParent","arguments","length","undefined","blockScroll","id","concat","css","padding-right","overflow-y","addClass","fadeOut","fadeIn","on","this","mobToggle","removeClass","toggleMenuIcon","e","preventDefault","modalId","modalToOpen","openModal","target","attr","modalToClose","vThis","parents","find","icon","hasClass","init","myGeoObjects","getJSON","data","forEach","point","balloonInner","name","address","worktime","placemark","ymaps","Placemark","coords","balloonContent","hideIconOnBalloonOpen","balloonOffset","iconLayout","iconImageHref","iconImageSize","push","myMap","Map","center","zoom","controls","item","geoObjects","add","behaviors","disable","mobileMenu","toggleClass","isChecked","prop","clearFiltersBtn","isAllUnchecked","each","popup","parent","optionValue","text","optionsWrapper","customSelect","setTimeout","val","change","tagName","toLowerCase","querySelectorAll","element","IMask","mask","definitions","#","slick","centerMode","centerPadding","prevArrow","nextArrow","slidesToShow","slidesToScroll","responsive","breakpoint","settings","check_if_load","checkLoadMap","url","callback","script","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","elem","eventName","i","elemsNum","off","checkVisible","visible","slideUp","moveElement","screenSize","after","screen","eq","appendTo","prependTo","initialFoldedHeight","initialText","initialHeight","prev","animate","sliderWrapper","siblings","slider","slideDown","datepicker","range","multipleDatesSeparator","documentElement","scrollTop","offset","top","scrollTo","html"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    /*--Overflow scroll glitch fix---*/\r\n\r\n    let div = document.createElement('div');\r\n\r\n    div.style.overflowY = 'scroll';\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n\r\n    document.body.append(div);\r\n    let scrollWidth = div.offsetWidth - div.clientWidth;\r\n    div.remove();\r\n\r\n    /*------ MODALS ---------*/\r\n    let renderClickableBG = (isDark, elementToClose, renderParent = $('body'), blockScroll = true, id = \"default-clickable-bg\") => {\r\n        renderParent.append(`<div class=\"clickable-bg\" id=${id}></div>`);\r\n        if (blockScroll) {\r\n            $('body').css({\r\n                'padding-right': scrollWidth,\r\n                'overflow-y': 'hidden',\r\n            });\r\n        }\r\n        if (isDark) {\r\n            $('.clickable-bg').addClass('clickable-bg--dark').fadeOut(1).fadeIn(400);\r\n        }\r\n        $('.clickable-bg').on('click', function () {\r\n            $(this).remove()\r\n            if (elementToClose[0] === $('.mobile-menu')[0]) {\r\n                let mobToggle = $('.mobile-menu-toggle');\r\n                mobToggle.removeClass('opened')\r\n                toggleMenuIcon(mobToggle);\r\n            }\r\n\r\n            if (elementToClose) {\r\n                elementToClose.removeClass('opened');\r\n                if (blockScroll) {\r\n                    $('body').css({\r\n                        'padding-right': 0,\r\n                        'overflow-y': 'auto',\r\n                    });\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const openModal = (modalId) => {\r\n        $('.modal').removeClass('opened')\r\n        let modalToOpen = $(modalId);\r\n        modalToOpen.addClass('opened').fadeOut(1).fadeIn(400);\r\n        renderClickableBG(true, modalToOpen, modalToOpen);\r\n    }\r\n\r\n    const closeModal = (modalId) => {\r\n        let modalToClose = $(modalId)\r\n        modalToClose.removeClass('opened');\r\n        $('body').css({\r\n            'padding-right': 0,\r\n            'overflow-y': 'auto',\r\n        });\r\n        modalToClose.find(('.clickable-bg')).remove();\r\n    }\r\n\r\n    $(document).on('click', '.js-open-modal', function (e) {\r\n        e.preventDefault();\r\n        let vThis = $(e.target)\r\n        let dataModal = vThis.attr('data-modal');\r\n        openModal(dataModal);\r\n    })\r\n\r\n    $(document).on('click', '.js-close-modal', function (e) {\r\n        let vThis = $(e.target);\r\n        closeModal('#' + vThis.parents('.modal')[0].id)\r\n    })\r\n\r\n\r\n    /*------ MOBILE MENU ---------*/\r\n\r\n    let toggleMenuIcon = (icon) => {\r\n        if (icon.hasClass('opened')) {\r\n            icon.find('use').attr('xlink:href', 'img/svg/sprite.svg#close-big');\r\n        } else {\r\n            icon.find('use').attr('xlink:href', 'img/svg/sprite.svg#menu');\r\n        }\r\n    }\r\n\r\n    $(document).on('click', '.js-open-mobile-menu', function (e) {\r\n        let vThis = $(e.target);\r\n        let mobileMenu = $('.mobile-menu')\r\n        $('.header__mobile-bottom').toggleClass('opened');\r\n        vThis.toggleClass('opened');\r\n        toggleMenuIcon(vThis);\r\n        if (vThis.hasClass('opened')) {\r\n            renderClickableBG(true, mobileMenu)\r\n        } else {\r\n            $('.clickable-bg').remove();\r\n            $('body').css({\r\n                'padding-right': scrollWidth,\r\n                'overflow-y': 'auto',\r\n            });\r\n\r\n        }\r\n        mobileMenu.toggleClass('opened');\r\n\r\n    })\r\n\r\n    /*------ INPUTS ---------*/\r\n\r\n    $(document).on('click', '.js-filter-checkbox', function (e) {\r\n        e.preventDefault();\r\n        let vThis = $(e.target);\r\n        let isChecked = vThis.find('.filters-checkbox').prop('checked');\r\n        vThis.toggleClass('checked').find('.filters-checkbox-label').toggleClass('checked');\r\n        vThis.find('.filters-checkbox').prop('checked', !isChecked);\r\n        let clearFiltersBtn = vThis.parents('form').find('.js-clear-filters');\r\n        if (!clearFiltersBtn.hasClass('visible')) {\r\n            clearFiltersBtn.addClass('visible')\r\n        } else {\r\n            let isAllUnchecked = true;\r\n            vThis.parents('form').find('input.filters-checkbox').each(function () {\r\n                if ($(this).prop('checked')) {\r\n                    isAllUnchecked = false;\r\n                }\r\n            })\r\n            if (isAllUnchecked) {\r\n                clearFiltersBtn.removeClass('visible')\r\n            }\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-clear-filters', function (e) {\r\n        e.preventDefault();\r\n        let vThis = $(e.target);\r\n        vThis.parents('form').find('.js-filter-checkbox').removeClass('checked');\r\n        vThis.parents('form').find('.filters-checkbox-label').removeClass('checked');\r\n        vThis.parents('form').find('.filters-checkbox').prop('checked', false);\r\n        vThis.removeClass('visible');\r\n    });\r\n\r\n\r\n    $(document).on('click', '.js-tabs-control', function (e) {\r\n        let vThis = $(e.target);\r\n        $('.js-tabs-control').removeClass('active');\r\n        vThis.addClass('active');\r\n        vThis.parents('.js-tabs').find('.js-tab').removeClass('active')\r\n        vThis.parents('.js-tabs').find(vThis.attr('data-tab')).addClass('active')\r\n    });\r\n\r\n    $(document).on('click', '.js-open-popup', function (e) {\r\n        let vThis = $(e.target);\r\n        $('#popup-bg').remove();\r\n        $('.js-open-popup').removeClass('opened');\r\n        let popup = vThis.parent().find('.js-popup');\r\n        popup.toggleClass('opened');\r\n        renderClickableBG(false, popup, $('body'), false, 'popup-bg');\r\n    })\r\n\r\n    $(document).on('click', '.js-custom-select .custom-select-option', function (e) {\r\n        let vThis = $(e.target);\r\n        let optionValue = $(this).text();\r\n        let optionsWrapper = $(this).parents('.custom-select-options');\r\n        let customSelect = $(this).parents('.js-custom-select');\r\n        customSelect.find('.custom-select__value').text(optionValue);\r\n        setTimeout(function () {\r\n            $('#popup-bg').remove();\r\n        }, 50);\r\n        optionsWrapper.removeClass('opened');\r\n        customSelect.find('.custom-select__value').removeClass('default');\r\n        customSelect.find('option').each(function () {\r\n            if ($(this).text() === optionValue) {\r\n                customSelect.find('select').val(optionValue).change();\r\n            }\r\n        })\r\n    })\r\n\r\n    $(document).on('click', '.js-toggle', function (e) {\r\n        let vThis = $(e.target);\r\n        vThis.parent().find('.js-toggle').removeClass('active');\r\n        vThis.addClass('active');\r\n    });\r\n\r\n    $(document).on('click', '.js-checkbox', function (e) {\r\n        let vThis = $(e.target).parents('.js-checkbox');\r\n        if (e.target.tagName.toLowerCase() !== 'a') {\r\n            e.preventDefault()\r\n            let isChecked = $(this).find('.custom-checkbox').prop('checked');\r\n            vThis.toggleClass('checked').find('.custom-cb-badge').toggleClass('checked');\r\n            vThis.find('.custom-checkbox').prop('checked', !isChecked);\r\n        }\r\n    });\r\n\r\n    let elements = document.querySelectorAll(\"input[type='tel']\");\r\n    elements.forEach(function (element) {\r\n        let dynamicMask = IMask(element, {\r\n            mask: [\r\n                {\r\n                    mask: '+{7}(#00)000-00-00',\r\n                    definitions: {\r\n                        '#': /[12345690]/\r\n                    }\r\n                },\r\n                {\r\n                    mask: '{#}(000)000-00-00',\r\n                    definitions: {\r\n                        '#': /[8]/\r\n                    }\r\n                },{\r\n                    mask: '{+#}(000)000-00-00',\r\n                    definitions: {\r\n                        '#': /[+7]/\r\n                    }\r\n                },\r\n            ]\r\n        });\r\n    })\r\n\r\n    /*------ SLIDERS ---------*/\r\n\r\n    $('.js-program-slider').each(function () {\r\n        $(this).slick({\r\n            centerMode: true,\r\n            centerPadding: '0',\r\n            prevArrow: $(this).parent('.tour-program__slider-wrapper').find('.arrow--prev'),\r\n            nextArrow: $(this).parent('.tour-program__slider-wrapper').find('.arrow--next'),\r\n        });\r\n    });\r\n\r\n    $('.js-testimonials-slider').each(function () {\r\n        $(this).slick({\r\n            slidesToShow: 2,\r\n            slidesToScroll: 1,\r\n            prevArrow: $(this).parent('.tour-program__slider-wrapper').find('.arrow--prev'),\r\n            nextArrow: $(this).parent('.tour-program__slider-wrapper').find('.arrow--next'),\r\n            responsive: [\r\n                {\r\n                    breakpoint: 600,\r\n                    settings: {\r\n                        slidesToShow: 1,\r\n                    }\r\n                },\r\n            ]\r\n\r\n        })\r\n    });\r\n\r\n\r\n    /*------ MAP ---------*/\r\n\r\n    function loadScript(url, callback) {\r\n\r\n        var script = document.createElement(\"script\");\r\n\r\n        if (script.readyState) {  //IE\r\n            script.onreadystatechange = function () {\r\n                if (script.readyState == \"loaded\" ||\r\n                    script.readyState == \"complete\") {\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else {\r\n            script.onload = function () {\r\n                callback();\r\n            };\r\n        }\r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    }\r\n\r\n    function init() {\r\n        // Создание карт.\r\n        function prepareMap() {\r\n\r\n            let mapJsonPath = 'data/map.json';\r\n            let myGeoObjects = [];\r\n            let objectsCounter = 0;\r\n            $.getJSON(mapJsonPath, function (data) {\r\n                data.forEach(point => {\r\n                    objectsCounter++;\r\n                    let balloonInner =\r\n                        `<div class=\"custom-balloon\">\r\n                                <div class=\"custom-balloon__bg\"></div>\r\n                                <div class=\"custom-balloon__text\"><b>${point.name}</b></div>\r\n                                <div class=\"custom-balloon__text\">${point.address}</div>\r\n                                <div class=\"custom-balloon__text\">Режим работы: ${point.worktime}</div>\r\n                         </div>`\r\n\r\n                    let placemark = new ymaps.Placemark(point.coords, {\r\n                            balloonContent: balloonInner,\r\n                        },\r\n                        {\r\n                            hideIconOnBalloonOpen: false,\r\n                            balloonOffset: [27, -44],\r\n                            iconLayout: 'default#image',\r\n                            iconImageHref: 'img/marker.png',\r\n                            iconImageSize: [80, 80],\r\n                        });\r\n\r\n\r\n                    myGeoObjects.push(placemark)\r\n                })\r\n\r\n                var myMap = new ymaps.Map('map-container', {\r\n                    center: data[0].coords,\r\n                    zoom: 15,\r\n                    controls: ['zoomControl'],\r\n                });\r\n\r\n                myGeoObjects.forEach(item => {\r\n                    myMap.geoObjects.add(item);\r\n                })\r\n                myMap.behaviors.disable('scrollZoom');\r\n\r\n            })\r\n\r\n\r\n        }\r\n\r\n        prepareMap()\r\n\r\n    }\r\n\r\n    let check_if_load = false;\r\n    const checkLoadMap = () => {\r\n        if (!check_if_load) {\r\n            check_if_load = true;\r\n            loadScript(\"https://api-maps.yandex.ru/2.1/?apikey=04709a29-6f21-442a-9cb5-272b39900456&lang=ru_RU\", function () {\r\n                ymaps.ready(init);\r\n            });\r\n        }\r\n    }\r\n\r\n    let checkVisible = (elem, eventName, callback) => {\r\n        let i = 0;\r\n        let elemsNum = elem.length;\r\n\r\n        elem.each(function () {\r\n            i = callback($(this), i);\r\n            if (i >= elemsNum) {\r\n                $(document).off(`scroll.${eventName}`);\r\n            }\r\n        });\r\n\r\n        $(document).on(`scroll.${eventName}`, function () {\r\n            elem.each(function () {\r\n                i = callback($(this), i);\r\n                if (i >= elemsNum) {\r\n                    $(document).off(`scroll.${eventName}`);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    if ($('#map-container').length > 0) {\r\n\r\n        checkVisible($('#map-container'), 'scroll.map-container', function (vThis, i) {\r\n            if (vThis.visible(true) && !vThis.hasClass('visible')) {\r\n                vThis.addClass('visible');\r\n                checkLoadMap();\r\n                i++;\r\n            }\r\n            return i;\r\n        });\r\n    }\r\n\r\n    /*------ MISC ---------*/\r\n\r\n    $(document).on('click', '.js-close', (e) => {\r\n        $(e.target).parents('.js-closable').slideUp();\r\n    })\r\n\r\n    let moveElement = (element, target, screenSize, append = true, after = false) => {\r\n        if (screen.width < screenSize) {\r\n            if (after) {\r\n                for (let i = 0; i < $(element).length; i++) {\r\n                    $(target).eq(i).after($(element).eq($(target).length === 1 ? 0 : i))\r\n                }\r\n            } else {\r\n                if (append) {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).appendTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                } else {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).prependTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    moveElement('.header .nav-menu', '.mobile-menu', 991);\r\n    moveElement('.header__advantages', '.mobile-menu', 1199);\r\n    moveElement('.header .small-nav-menu', '.mobile-menu', 991);\r\n    moveElement('.header .small-nav-menu', '.mobile-menu', 991);\r\n    moveElement('.license__image', '.license__box', 1199);\r\n\r\n    let initialFoldedHeight = null;\r\n    let initialText = null;\r\n    $(document).on('click', '.js-read-more-toggle', function (e) {\r\n        let vThis = $(e.target);\r\n        let initialHeight = vThis.prev('.js-read-more-wrapper').find($('.js-read-more-container')).height();\r\n        if (!vThis.hasClass('opened')) {\r\n            initialFoldedHeight = vThis.prev('.js-read-more-wrapper').height();\r\n            initialText = vThis.find('.read-more__toggle-text').text()\r\n            vThis.prev('.js-read-more-wrapper').animate({\r\n                height: initialHeight\r\n            }, 300);\r\n            vThis.addClass('opened');\r\n            vThis.find('.read-more__toggle-text').text('Свернуть');\r\n        } else {\r\n            vThis.prev('.js-read-more-wrapper').animate({\r\n                height: initialFoldedHeight\r\n            }, 300);\r\n            vThis.removeClass('opened');\r\n            vThis.find('.read-more__toggle-text').text(initialText);\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-accordion', function (e) {\r\n        let vThis = $(e.target),\r\n            sliderWrapper = vThis.siblings('.js-accordion-content').find('.tour-program__slider-wrapper'),\r\n            slider = vThis.siblings('.js-accordion-content').find('.js-program-slider');\r\n        if (!vThis.hasClass('opened')) {\r\n            vThis.addClass('opened');\r\n            vThis.parent().addClass('opened');\r\n            vThis.siblings('.js-accordion-content').slideDown();\r\n            slider.slick('unslick').slick({\r\n                centerMode: true,\r\n                centerPadding: '0',\r\n                prevArrow: sliderWrapper.find('.arrow--prev'),\r\n                nextArrow: sliderWrapper.find('.arrow--next'),\r\n            });\r\n        }\r\n        else {\r\n            vThis.removeClass('opened');\r\n            vThis.parent().addClass('opened');\r\n            vThis.siblings('.js-accordion-content').slideUp();\r\n        }\r\n    });\r\n\r\n    $('#tp-date').datepicker({\r\n        range: true,\r\n        multipleDatesSeparator: ' - '\r\n    })\r\n\r\n    let scrollTo = (target) => {\r\n        $([document.documentElement, document.body]).animate({\r\n            scrollTop: target.offset().top\r\n        }, 1000);\r\n    }\r\n\r\n    $(document).on('click', '.js-scroll-to', function (e) {\r\n        let vThis = $(e.target);\r\n        let target = vThis.attr('data-scroll');\r\n        scrollTo($(target));\r\n    })\r\n\r\n    $(document).on('click', '.js-success-btn', function (e) {\r\n        const vThis = $(e.target);\r\n        if (!vThis.hasClass('successful')) {\r\n            vThis.html('<div class=\"common-btn__icon\"><svg class=\"icon\"><use xlink:href=\"img/svg/sprite.svg#check\"></use> </svg></div>Спасибо! Отзыв отправлен на модерацию');\r\n            vThis.addClass('successful')\r\n        }\r\n    })\r\n\r\n    const changeHtml = (element, html) => {\r\n        $(element).html()\r\n    }\r\n\r\n    $(document).on('click', '.js-close-cookie', function () {\r\n        $('.cookies-disclaimer').removeClass('show');\r\n    });\r\n});\r\n\r\n\r\n"]}